<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Algorithms_in_C: misc/shunting_yard.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Algorithms_in_C<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Set of algorithms implemented in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/d73/shunting__yard_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">shunting_yard.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="https://en.wikipedia.org/wiki/Shunting_yard_algorithm" target="_blank">Shunting Yard Algorithm</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for shunting_yard.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d0d/shunting__yard_8c__incl.svg" width="434" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4438f2369c8f681d8d0dff2eb86d0e65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d73/shunting__yard_8c.html#a4438f2369c8f681d8d0dff2eb86d0e65">getPrecedence</a> (char operator)</td></tr>
<tr class="memdesc:a4438f2369c8f681d8d0dff2eb86d0e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">for assertion  <br /></td></tr>
<tr class="separator:a4438f2369c8f681d8d0dff2eb86d0e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea3d659fb78b0de0fcc88188815d013"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d73/shunting__yard_8c.html#a4ea3d659fb78b0de0fcc88188815d013">getAssociativity</a> (char operator)</td></tr>
<tr class="memdesc:a4ea3d659fb78b0de0fcc88188815d013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that returns each operator's associativity.  <br /></td></tr>
<tr class="separator:a4ea3d659fb78b0de0fcc88188815d013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4ea5886f3335a6c26621ccce6bce8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d73/shunting__yard_8c.html#aab4ea5886f3335a6c26621ccce6bce8f">shuntingYard</a> (const char *input, char *output)</td></tr>
<tr class="memdesc:aab4ea5886f3335a6c26621ccce6bce8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An implementation of the shunting yard that converts infix notation to reversed polish notation.  <br /></td></tr>
<tr class="separator:aab4ea5886f3335a6c26621ccce6bce8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8dca7b867074164d5f45b0f3851269d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d73/shunting__yard_8c.html#aa8dca7b867074164d5f45b0f3851269d">test</a> ()</td></tr>
<tr class="memdesc:aa8dca7b867074164d5f45b0f3851269d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Self-test implementations.  <br /></td></tr>
<tr class="separator:aa8dca7b867074164d5f45b0f3851269d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d73/shunting__yard_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a href="https://en.wikipedia.org/wiki/Shunting_yard_algorithm" target="_blank">Shunting Yard Algorithm</a> </p>
<p>From Wikipedia: In computer science, the shunting yard algorithm is a method for parsing arithmetical or logical expressions, or a combination of both, specified in infix notation. It can produce either a postfix notation string, also known as Reverse Polish notation (RPN), or an abstract syntax tree (AST). The algorithm was invented by Edsger Dijkstra and named the "shunting yard" algorithm because its operation resembles that of a railroad shunting yard. </p><dl class="section author"><dt>Author</dt><dd><a href="https://github.com/CascadingCascade" target="_blank">CascadingCascade</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4ea3d659fb78b0de0fcc88188815d013" name="a4ea3d659fb78b0de0fcc88188815d013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea3d659fb78b0de0fcc88188815d013">&#9670;&#160;</a></span>getAssociativity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getAssociativity </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>operator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function that returns each operator's associativity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operator</td><td>the operator to be queried </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'1' if the operator is left associative </dd>
<dd>
'0' if the operator is right associative </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   48</span>                                    {</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">switch</span> (<span class="keyword">operator</span>) {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;^&#39;</span>: {</div>
<div class="line"><span class="lineno">   51</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   52</span>        }</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>:</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>: {</div>
<div class="line"><span class="lineno">   57</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   58</span>        }</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno">   60</span>            fprintf(stderr,<span class="stringliteral">&quot;Error: Invalid operator\n&quot;</span>);</div>
<div class="line"><span class="lineno">   61</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   62</span>        }</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4438f2369c8f681d8d0dff2eb86d0e65" name="a4438f2369c8f681d8d0dff2eb86d0e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4438f2369c8f681d8d0dff2eb86d0e65">&#9670;&#160;</a></span>getPrecedence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getPrecedence </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>operator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>for assertion </p>
<p>for IO operations for memory management for string operations for isdigit()</p>
<p>Helper function that returns each operator's precedence </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operator</td><td>the operator to be queried </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the operator's precedence </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   22</span>                                 {</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">switch</span> (<span class="keyword">operator</span>) {</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>: {</div>
<div class="line"><span class="lineno">   26</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   27</span>        }</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>: {</div>
<div class="line"><span class="lineno">   30</span>            <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno">   31</span>        }</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;^&#39;</span>: {</div>
<div class="line"><span class="lineno">   33</span>            <span class="keywordflow">return</span> 3;</div>
<div class="line"><span class="lineno">   34</span>        }</div>
<div class="line"><span class="lineno">   35</span>        <span class="keywordflow">default</span>:{</div>
<div class="line"><span class="lineno">   36</span>            fprintf(stderr,<span class="stringliteral">&quot;Error: Invalid operator\n&quot;</span>);</div>
<div class="line"><span class="lineno">   37</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   38</span>        }</div>
<div class="line"><span class="lineno">   39</span>    }</div>
<div class="line"><span class="lineno">   40</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on exit </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  235</span>           {</div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#aa8dca7b867074164d5f45b0f3851269d">test</a>(); <span class="comment">// Run self-test implementations</span></div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="ashunting__yard_8c_html_aa8dca7b867074164d5f45b0f3851269d"><div class="ttname"><a href="../../dc/d73/shunting__yard_8c.html#aa8dca7b867074164d5f45b0f3851269d">test</a></div><div class="ttdeci">static void test()</div><div class="ttdoc">Self-test implementations.</div><div class="ttdef"><b>Definition:</b> shunting_yard.c:205</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/d73/shunting__yard_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph.svg" width="462" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aab4ea5886f3335a6c26621ccce6bce8f" name="aab4ea5886f3335a6c26621ccce6bce8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4ea5886f3335a6c26621ccce6bce8f">&#9670;&#160;</a></span>shuntingYard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shuntingYard </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An implementation of the shunting yard that converts infix notation to reversed polish notation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>pointer to input string </td></tr>
    <tr><td class="paramname">output</td><td>pointer to output location </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if a parentheses mismatch is detected </dd>
<dd>
<code>0</code> if no mismatches are detected </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                                                  {</div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inputLength = strlen(input);</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordtype">char</span>* operatorStack = (<span class="keywordtype">char</span>*) <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a725f50ecaf1959d96de79b36b4788fee">malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * inputLength);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">// This pointer points at where we should insert the next element,</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">// Hence stackPointer - 1 is used when accessing elements</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> stackPointer = 0;</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// We will parse the input with strtok(),</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// Since strtok() is destructive, we make a copy of the input to preserve the original string</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordtype">char</span>* str = <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a725f50ecaf1959d96de79b36b4788fee">malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * inputLength + 1);</div>
<div class="line"><span class="lineno">   84</span>    strcpy(str,input);</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordtype">char</span>* token = strtok(str,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <span class="comment">// We will push to output with strcat() and strncat(),</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// This initializes output to be a string with a length of zero</span></div>
<div class="line"><span class="lineno">   89</span>    output[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">while</span> (token != NULL) {</div>
<div class="line"><span class="lineno">   92</span>        <span class="comment">// If it&#39;s a number, push it to the output directly</span></div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">if</span> (isdigit(token[0])) {</div>
<div class="line"><span class="lineno">   94</span>            strcat(output,token);</div>
<div class="line"><span class="lineno">   95</span>            strcat(output,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>            token = strtok(NULL,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">   98</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   99</span>        }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">switch</span> (token[0]) {</div>
<div class="line"><span class="lineno">  102</span>            <span class="comment">// If it&#39;s a left parenthesis, push it to the operator stack for later matching</span></div>
<div class="line"><span class="lineno">  103</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>: {</div>
<div class="line"><span class="lineno">  104</span>                operatorStack[stackPointer++] = token[0];</div>
<div class="line"><span class="lineno">  105</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  106</span>            }</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>            <span class="comment">// If it&#39;s a right parenthesis, search for a left parenthesis to match it</span></div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;)&#39;</span>: {</div>
<div class="line"><span class="lineno">  110</span>                <span class="comment">// Guard statement against accessing an empty stack</span></div>
<div class="line"><span class="lineno">  111</span>                <span class="keywordflow">if</span>(stackPointer &lt; 1) {</div>
<div class="line"><span class="lineno">  112</span>                    fprintf(stderr,<span class="stringliteral">&quot;Error: Mismatched parentheses\n&quot;</span>);</div>
<div class="line"><span class="lineno">  113</span>                    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(operatorStack);</div>
<div class="line"><span class="lineno">  114</span>                    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(str);</div>
<div class="line"><span class="lineno">  115</span>                    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  116</span>                }</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>                <span class="keywordflow">while</span> (operatorStack[stackPointer - 1] != <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><span class="lineno">  119</span>                    <span class="comment">// strncat() with a count of 1 is used to append characters to output</span></div>
<div class="line"><span class="lineno">  120</span>                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = (stackPointer--) - 1;</div>
<div class="line"><span class="lineno">  121</span>                    strncat(output, &amp;operatorStack[i], 1);</div>
<div class="line"><span class="lineno">  122</span>                    strcat(output,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>                    <span class="comment">// If the operator stack is exhausted before a match can be found,</span></div>
<div class="line"><span class="lineno">  125</span>                    <span class="comment">// There must be a mismatch</span></div>
<div class="line"><span class="lineno">  126</span>                    <span class="keywordflow">if</span>(stackPointer == 0) {</div>
<div class="line"><span class="lineno">  127</span>                        fprintf(stderr,<span class="stringliteral">&quot;Error: Mismatched parentheses\n&quot;</span>);</div>
<div class="line"><span class="lineno">  128</span>                        <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(operatorStack);</div>
<div class="line"><span class="lineno">  129</span>                        <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(str);</div>
<div class="line"><span class="lineno">  130</span>                        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  131</span>                    }</div>
<div class="line"><span class="lineno">  132</span>                }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>                <span class="comment">// Discards the parentheses now the matching is complete,</span></div>
<div class="line"><span class="lineno">  135</span>                <span class="comment">// Simply remove the left parenthesis from the stack is enough,</span></div>
<div class="line"><span class="lineno">  136</span>                <span class="comment">// Since the right parenthesis didn&#39;t enter the stack in the first place</span></div>
<div class="line"><span class="lineno">  137</span>                stackPointer--;</div>
<div class="line"><span class="lineno">  138</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  139</span>            }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>            <span class="comment">// If it&#39;s an operator(o1), we compare it to whatever is at the top of the operator stack(o2)</span></div>
<div class="line"><span class="lineno">  142</span>            <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno">  143</span>                <span class="comment">// Places the operator into the stack directly if it&#39;s empty</span></div>
<div class="line"><span class="lineno">  144</span>                <span class="keywordflow">if</span>(stackPointer &lt; 1) {</div>
<div class="line"><span class="lineno">  145</span>                    operatorStack[stackPointer++] = token[0];</div>
<div class="line"><span class="lineno">  146</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  147</span>                }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>                <span class="comment">// We need to check if there&#39;s actually a valid operator at the top of the stack</span></div>
<div class="line"><span class="lineno">  150</span>                <span class="keywordflow">if</span>((stackPointer - 1 &gt; 0) &amp;&amp; operatorStack[stackPointer - 1] != <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><span class="lineno">  151</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> precedence1 = <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#a4438f2369c8f681d8d0dff2eb86d0e65">getPrecedence</a>(token[0]);</div>
<div class="line"><span class="lineno">  152</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> precedence2 = <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#a4438f2369c8f681d8d0dff2eb86d0e65">getPrecedence</a>(operatorStack[stackPointer - 1]);</div>
<div class="line"><span class="lineno">  153</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> associativity = <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#a4ea3d659fb78b0de0fcc88188815d013">getAssociativity</a>(token[0]);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>                    <span class="comment">// We pop operators from the stack, if...</span></div>
<div class="line"><span class="lineno">  156</span>                    <span class="keywordflow">while</span> ( <span class="comment">// ... their precedences are equal, and o1 is left associative, ...</span></div>
<div class="line"><span class="lineno">  157</span>                            ((associativity &amp;&amp; precedence1 == precedence2) ||</div>
<div class="line"><span class="lineno">  158</span>                             <span class="comment">// ... or o2 simply have a higher precedence, ...</span></div>
<div class="line"><span class="lineno">  159</span>                             precedence2 &gt; precedence1) &amp;&amp;</div>
<div class="line"><span class="lineno">  160</span>                            <span class="comment">// ... and there are still operators available to be popped.</span></div>
<div class="line"><span class="lineno">  161</span>                            ((stackPointer - 1 &gt; 0) &amp;&amp; operatorStack[stackPointer - 1] != <span class="charliteral">&#39;(&#39;</span>)) {</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>                        strncat(output,&amp;operatorStack[(stackPointer--) - 1],1);</div>
<div class="line"><span class="lineno">  164</span>                        strcat(output,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  165</span>                    }</div>
<div class="line"><span class="lineno">  166</span>                }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>                <span class="comment">// We&#39;ll save o1 for later</span></div>
<div class="line"><span class="lineno">  169</span>                operatorStack[stackPointer++] = token[0];</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  171</span>            }</div>
<div class="line"><span class="lineno">  172</span>        }</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>        token = strtok(NULL,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(str);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">// Now all input has been exhausted,</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">// Pop everything from the operator stack, then push them to the output</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">while</span> (stackPointer &gt; 0) {</div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">// If there are still leftover left parentheses in the stack,</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="comment">// There must be a mismatch</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">if</span>(operatorStack[stackPointer - 1] == <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><span class="lineno">  185</span>            fprintf(stderr,<span class="stringliteral">&quot;Error: Mismatched parentheses\n&quot;</span>);</div>
<div class="line"><span class="lineno">  186</span>            <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(operatorStack);</div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = (stackPointer--) - 1;</div>
<div class="line"><span class="lineno">  191</span>        strncat(output, &amp;operatorStack[i], 1);</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">if</span> (i != 0) {</div>
<div class="line"><span class="lineno">  193</span>            strcat(output,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  194</span>        }</div>
<div class="line"><span class="lineno">  195</span>    }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(operatorStack);</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  199</span>}</div>
<div class="ttc" id="amalloc__dbg_8h_html_a725f50ecaf1959d96de79b36b4788fee"><div class="ttname"><a href="../../d2/ddd/malloc__dbg_8h.html#a725f50ecaf1959d96de79b36b4788fee">malloc</a></div><div class="ttdeci">#define malloc(bytes)</div><div class="ttdoc">This macro replace the standard malloc function with malloc_dbg.</div><div class="ttdef"><b>Definition:</b> malloc_dbg.h:18</div></div>
<div class="ttc" id="amalloc__dbg_8h_html_a9cc854374299a1dd933bf62029761768"><div class="ttname"><a href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a></div><div class="ttdeci">#define free(ptr)</div><div class="ttdoc">This macro replace the standard free function with free_dbg.</div><div class="ttdef"><b>Definition:</b> malloc_dbg.h:26</div></div>
<div class="ttc" id="ashunting__yard_8c_html_a4438f2369c8f681d8d0dff2eb86d0e65"><div class="ttname"><a href="../../dc/d73/shunting__yard_8c.html#a4438f2369c8f681d8d0dff2eb86d0e65">getPrecedence</a></div><div class="ttdeci">int getPrecedence(char operator)</div><div class="ttdoc">for assertion</div><div class="ttdef"><b>Definition:</b> shunting_yard.c:22</div></div>
<div class="ttc" id="ashunting__yard_8c_html_a4ea3d659fb78b0de0fcc88188815d013"><div class="ttname"><a href="../../dc/d73/shunting__yard_8c.html#a4ea3d659fb78b0de0fcc88188815d013">getAssociativity</a></div><div class="ttdeci">int getAssociativity(char operator)</div><div class="ttdoc">Helper function that returns each operator's associativity.</div><div class="ttdef"><b>Definition:</b> shunting_yard.c:48</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/d73/shunting__yard_8c_aab4ea5886f3335a6c26621ccce6bce8f_cgraph.svg" width="271" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa8dca7b867074164d5f45b0f3851269d" name="aa8dca7b867074164d5f45b0f3851269d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8dca7b867074164d5f45b0f3851269d">&#9670;&#160;</a></span>test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Self-test implementations. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  205</span>                   {</div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordtype">char</span>* in = <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a725f50ecaf1959d96de79b36b4788fee">malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * 50);</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordtype">char</span>* out = <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a725f50ecaf1959d96de79b36b4788fee">malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * 50);</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    strcpy(in,<span class="stringliteral">&quot;3 + 4 * ( 2 - 1 )&quot;</span>);</div>
<div class="line"><span class="lineno">  211</span>    printf(<span class="stringliteral">&quot;Infix: %s\n&quot;</span>,in);</div>
<div class="line"><span class="lineno">  212</span>    i = <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#aab4ea5886f3335a6c26621ccce6bce8f">shuntingYard</a>(in, out);</div>
<div class="line"><span class="lineno">  213</span>    printf(<span class="stringliteral">&quot;RPN: %s\n&quot;</span>,out);</div>
<div class="line"><span class="lineno">  214</span>    printf(<span class="stringliteral">&quot;Return code: %d\n\n&quot;</span>,i);</div>
<div class="line"><span class="lineno">  215</span>    assert(strcmp(out,<span class="stringliteral">&quot;3 4 2 1 - * +&quot;</span>) == 0);</div>
<div class="line"><span class="lineno">  216</span>    assert(i == 0);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    strcpy(in,<span class="stringliteral">&quot;3 + 4 * 2 / ( 1 - 5 ) ^ 2 ^ 3&quot;</span>);</div>
<div class="line"><span class="lineno">  219</span>    printf(<span class="stringliteral">&quot;Infix: %s\n&quot;</span>,in);</div>
<div class="line"><span class="lineno">  220</span>    i = <a class="code hl_function" href="../../dc/d73/shunting__yard_8c.html#aab4ea5886f3335a6c26621ccce6bce8f">shuntingYard</a>(in, out);</div>
<div class="line"><span class="lineno">  221</span>    printf(<span class="stringliteral">&quot;RPN: %s\n&quot;</span>,out);</div>
<div class="line"><span class="lineno">  222</span>    printf(<span class="stringliteral">&quot;Return code: %d\n\n&quot;</span>,i);</div>
<div class="line"><span class="lineno">  223</span>    assert(strcmp(out,<span class="stringliteral">&quot;3 4 2 * 1 5 - 2 3 ^ ^ / +&quot;</span>) == 0);</div>
<div class="line"><span class="lineno">  224</span>    assert(i == 0);</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    printf(<span class="stringliteral">&quot;Testing successfully completed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(in);</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_define" href="../../d2/ddd/malloc__dbg_8h.html#a9cc854374299a1dd933bf62029761768">free</a>(out);</div>
<div class="line"><span class="lineno">  229</span>}</div>
<div class="ttc" id="ashunting__yard_8c_html_aab4ea5886f3335a6c26621ccce6bce8f"><div class="ttname"><a href="../../dc/d73/shunting__yard_8c.html#aab4ea5886f3335a6c26621ccce6bce8f">shuntingYard</a></div><div class="ttdeci">int shuntingYard(const char *input, char *output)</div><div class="ttdoc">An implementation of the shunting yard that converts infix notation to reversed polish notation.</div><div class="ttdef"><b>Definition:</b> shunting_yard.c:73</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/d73/shunting__yard_8c_aa8dca7b867074164d5f45b0f3851269d_cgraph.svg" width="363" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_a52f4d3d586a58b02f3a4ddf0a992157.html">misc</a></li><li class="navelem"><a class="el" href="../../dc/d73/shunting__yard_8c.html">shunting_yard.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
